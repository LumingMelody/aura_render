#!/bin/bash

# æµ‹è¯•Cozeå›¾ç‰‡æœç´¢æ§åˆ¶å‚æ•°
# éªŒè¯ enable_coze_search å‚æ•°çš„åŠŸèƒ½

BASE_URL="http://localhost:8002"

echo "================================================================"
echo "ğŸ§ª æµ‹è¯• Coze å›¾ç‰‡æœç´¢æ§åˆ¶å‚æ•°"
echo "================================================================"
echo ""

# ========== æµ‹è¯•1: enable_coze_search=trueï¼ˆå¯ç”¨æœç´¢ï¼Œé»˜è®¤è¡Œä¸ºï¼‰==========
echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
echo "ğŸ“‹ æµ‹è¯•1: enable_coze_search=true (å¯ç”¨Cozeæœç´¢)"
echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
echo ""
echo "é¢„æœŸè¡Œä¸º: æœªæä¾›product_imagesæ—¶ï¼Œä¼šè‡ªåŠ¨è°ƒç”¨Cozeæœç´¢å›¾ç‰‡"
echo ""

curl -X POST "${BASE_URL}/vgp/generate" \
  -H "Content-Type: application/json" \
  -d '{
    "theme_id": "äº§å“å±•ç¤º",
    "user_description_id": "æ™ºèƒ½æŠ•å½±ä»ªï¼Œå®¶åº­å½±é™¢çº§ä½“éªŒ",
    "target_duration_id": 10,
    "keywords_id": ["æŠ•å½±ä»ª", "å®¶åº­å½±é™¢", "é«˜æ¸…"],
    "enable_coze_search": true
  }' | jq '.'

echo ""
echo "âœ… æŸ¥çœ‹æ—¥å¿—ï¼Œåº”è¯¥çœ‹åˆ°ï¼š"
echo "   ğŸ” [VGP] æœªæ£€æµ‹åˆ°äº§å“å›¾ç‰‡ï¼Œä¸”å·²å¯ç”¨Cozeæœç´¢ï¼Œå¼€å§‹ä» Coze æœç´¢å›¾ç‰‡..."
echo ""

# ========== æµ‹è¯•2: enable_coze_search=falseï¼ˆç¦ç”¨æœç´¢ï¼‰==========
echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
echo "ğŸ“‹ æµ‹è¯•2: enable_coze_search=false (ç¦ç”¨Cozeæœç´¢)"
echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
echo ""
echo "é¢„æœŸè¡Œä¸º: å³ä½¿æœªæä¾›product_imagesï¼Œä¹Ÿä¸ä¼šè°ƒç”¨Cozeæœç´¢"
echo ""

curl -X POST "${BASE_URL}/vgp/generate" \
  -H "Content-Type: application/json" \
  -d '{
    "theme_id": "äº§å“å±•ç¤º",
    "user_description_id": "æ™ºèƒ½æŠ•å½±ä»ªï¼Œå®¶åº­å½±é™¢çº§ä½“éªŒ",
    "target_duration_id": 10,
    "keywords_id": ["æŠ•å½±ä»ª", "å®¶åº­å½±é™¢", "é«˜æ¸…"],
    "enable_coze_search": false
  }' | jq '.'

echo ""
echo "âœ… æŸ¥çœ‹æ—¥å¿—ï¼Œåº”è¯¥çœ‹åˆ°ï¼š"
echo "   â„¹ï¸ [VGP] æœªæ£€æµ‹åˆ°äº§å“å›¾ç‰‡ï¼Œä½†ç”¨æˆ·å·²ç¦ç”¨Cozeæœç´¢ï¼Œè·³è¿‡å›¾ç‰‡æœç´¢"
echo ""

# ========== æµ‹è¯•3: é»˜è®¤è¡Œä¸ºï¼ˆä¸ä¼ å‚æ•°ï¼Œåº”è¯¥å¯ç”¨æœç´¢ï¼‰==========
echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
echo "ğŸ“‹ æµ‹è¯•3: é»˜è®¤è¡Œä¸º (ä¸ä¼ enable_coze_searchå‚æ•°)"
echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
echo ""
echo "é¢„æœŸè¡Œä¸º: é»˜è®¤åº”è¯¥å¯ç”¨Cozeæœç´¢ï¼ˆenable_coze_search=trueï¼‰"
echo ""

curl -X POST "${BASE_URL}/vgp/generate" \
  -H "Content-Type: application/json" \
  -d '{
    "theme_id": "äº§å“å±•ç¤º",
    "user_description_id": "æ™ºèƒ½æŠ•å½±ä»ªï¼Œå®¶åº­å½±é™¢çº§ä½“éªŒ",
    "target_duration_id": 10,
    "keywords_id": ["æŠ•å½±ä»ª", "å®¶åº­å½±é™¢", "é«˜æ¸…"]
  }' | jq '.'

echo ""
echo "âœ… æŸ¥çœ‹æ—¥å¿—ï¼Œåº”è¯¥çœ‹åˆ°ï¼š"
echo "   ğŸ” [VGP] Cozeæœç´¢å¼€å…³: enable_coze_search=True"
echo "   ğŸ” [VGP] æœªæ£€æµ‹åˆ°äº§å“å›¾ç‰‡ï¼Œä¸”å·²å¯ç”¨Cozeæœç´¢ï¼Œå¼€å§‹ä» Coze æœç´¢å›¾ç‰‡..."
echo ""

# ========== æµ‹è¯•4: æä¾›äº†product_imagesï¼ˆåº”è¯¥è·³è¿‡æœç´¢ï¼‰==========
echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
echo "ğŸ“‹ æµ‹è¯•4: å·²æä¾›product_images (åº”è¯¥è·³è¿‡Cozeæœç´¢)"
echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
echo ""
echo "é¢„æœŸè¡Œä¸º: å³ä½¿enable_coze_search=trueï¼Œä¹Ÿä¼šè·³è¿‡Cozeæœç´¢"
echo ""

curl -X POST "${BASE_URL}/vgp/generate" \
  -H "Content-Type: application/json" \
  -d '{
    "theme_id": "äº§å“å±•ç¤º",
    "user_description_id": "æ™ºèƒ½æŠ•å½±ä»ªï¼Œå®¶åº­å½±é™¢çº§ä½“éªŒ",
    "target_duration_id": 10,
    "keywords_id": ["æŠ•å½±ä»ª", "å®¶åº­å½±é™¢", "é«˜æ¸…"],
    "enable_coze_search": true,
    "reference_media": {
      "product_images": [
        {"url": "https://example.com/projector.jpg"}
      ]
    }
  }' | jq '.'

echo ""
echo "âœ… æŸ¥çœ‹æ—¥å¿—ï¼Œåº”è¯¥çœ‹åˆ°ï¼š"
echo "   âœ… [VGP] å·²æœ‰äº§å“å›¾ç‰‡ (1 å¼ )ï¼Œè·³è¿‡Cozeæœç´¢"
echo ""

echo "================================================================"
echo "âœ… æµ‹è¯•å®Œæˆï¼è¯·æŸ¥çœ‹ä¸Šæ–¹çš„å“åº”å’ŒæœåŠ¡å™¨æ—¥å¿—"
echo "================================================================"
