# Aura Render 环境配置示例
# 复制此文件为 .env 并填入实际值

# ===================
# 应用基础配置
# ===================
APP_NAME=Aura Render
APP_VERSION=1.0.0
APP_DESCRIPTION=AI-powered video generation platform
ENVIRONMENT=development  # development, staging, production
DEBUG=true
LOG_LEVEL=INFO

# ===================
# 服务器配置
# ===================
HOST=127.0.0.1
PORT=8000
WORKERS=4
RELOAD=true

# ===================
# 安全配置
# ===================
SECRET_KEY=your-super-secret-key-change-in-production
JWT_ALGORITHM=HS256
JWT_ACCESS_TOKEN_EXPIRE_MINUTES=60
JWT_REFRESH_TOKEN_EXPIRE_DAYS=30
ENCRYPTION_KEY=your-encryption-key-32-chars-long

# ===================
# 数据库配置
# ===================
# PostgreSQL (推荐生产环境)
DATABASE_URL=postgresql://user:password@localhost:5432/aura_render
DATABASE_POOL_SIZE=20
DATABASE_MAX_OVERFLOW=30

# SQLite (开发环境)
# DATABASE_URL=sqlite:///./aura_render.db

# ===================
# Redis 配置
# ===================
REDIS_URL=redis://localhost:6379/0
REDIS_PASSWORD=
REDIS_DB=0
REDIS_POOL_SIZE=20

# ===================
# AI 服务配置
# ===================
# 阿里云 DashScope (通义千问)
DASHSCOPE_API_KEY=your-dashscope-api-key
DASHSCOPE_MODEL=qwen-max
DASHSCOPE_BASE_URL=https://dashscope.aliyuncs.com/api/v1

# OpenAI (可选)
OPENAI_API_KEY=your-openai-api-key
OPENAI_MODEL=gpt-4
OPENAI_BASE_URL=https://api.openai.com/v1

# ===================
# TTS 服务配置
# ===================
TTS_PROVIDER=dashscope  # dashscope, azure, google, aws
TTS_VOICE=xiaoyun
TTS_SPEED=1.0
TTS_VOLUME=50

# Azure TTS (可选)
AZURE_TTS_KEY=your-azure-tts-key
AZURE_TTS_REGION=eastus

# ===================
# 视频处理配置
# ===================
# FFmpeg 路径
FFMPEG_PATH=/usr/local/bin/ffmpeg
FFPROBE_PATH=/usr/local/bin/ffprobe

# 视频处理限制
MAX_VIDEO_DURATION=300  # 秒
MAX_VIDEO_RESOLUTION=1920x1080
MAX_FILE_SIZE=100  # MB
SUPPORTED_FORMATS=mp4,avi,mov,mkv

# 渲染设置
RENDER_QUALITY=standard  # low, standard, high, ultra
RENDER_FPS=30
RENDER_BITRATE=2000  # kbps

# ===================
# 素材库配置
# ===================
# 本地素材库
MATERIALS_BASE_PATH=./materials
MATERIALS_CACHE_SIZE=1000

# 外部素材库 API
MATERIALS_API_URL=https://api.materials.example.com
MATERIALS_API_KEY=your-materials-api-key

# ===================
# 文件存储配置
# ===================
# 本地存储
STORAGE_TYPE=local  # local, s3, oss, cos
UPLOAD_PATH=./uploads
OUTPUT_PATH=./output
TEMP_PATH=./temp

# AWS S3 (可选)
AWS_ACCESS_KEY_ID=your-aws-access-key
AWS_SECRET_ACCESS_KEY=your-aws-secret-key
AWS_REGION=us-east-1
AWS_BUCKET=aura-render-bucket

# 阿里云 OSS (可选)
OSS_ACCESS_KEY_ID=your-oss-access-key
OSS_ACCESS_KEY_SECRET=your-oss-secret-key
OSS_ENDPOINT=oss-cn-hangzhou.aliyuncs.com
OSS_BUCKET=aura-render-bucket

# ===================
# 缓存配置
# ===================
CACHE_TTL=3600  # 秒
CACHE_MAX_SIZE=1000  # MB
ENABLE_CACHE_COMPRESSION=true
CACHE_COMPRESSION_THRESHOLD=1024  # bytes

# ===================
# 监控和日志
# ===================
# 日志配置
LOG_FORMAT=detailed  # simple, detailed, json
LOG_FILE_PATH=./logs/aura_render.log
LOG_MAX_SIZE=100  # MB
LOG_BACKUP_COUNT=5
LOG_ROTATION=daily  # daily, weekly, monthly

# 监控配置
ENABLE_METRICS=true
METRICS_PORT=8080
HEALTH_CHECK_INTERVAL=30  # 秒

# Sentry (可选)
SENTRY_DSN=your-sentry-dsn
SENTRY_TRACES_SAMPLE_RATE=0.1

# ===================
# API 限流配置
# ===================
RATE_LIMIT_ENABLED=true
RATE_LIMIT_REQUESTS_PER_MINUTE=60
RATE_LIMIT_BURST_SIZE=100

# 用户限流
USER_RATE_LIMIT_PER_HOUR=1000
PREMIUM_USER_RATE_LIMIT_PER_HOUR=5000

# ===================
# 邮件服务配置
# ===================
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USERNAME=your-email@gmail.com
SMTP_PASSWORD=your-app-password
SMTP_USE_TLS=true

# 邮件模板
EMAIL_FROM=noreply@aurarender.com
EMAIL_TEMPLATES_PATH=./templates/emails

# ===================
# 国际化配置
# ===================
DEFAULT_LANGUAGE=en
SUPPORTED_LANGUAGES=en,zh-CN,zh-TW,ja,ko,es,fr,de,it,pt,ru,ar,hi
I18N_BASE_PATH=./i18n

# ===================
# 备份配置
# ===================
BACKUP_ENABLED=true
BACKUP_SCHEDULE=0 2 * * *  # 每天凌晨2点
BACKUP_RETENTION_DAYS=30
BACKUP_STORAGE=local  # local, s3, oss
BACKUP_PATH=./backups

# ===================
# 开发和调试
# ===================
# 开发模式设置
MOCK_AI_SERVICES=false
MOCK_TTS_SERVICES=false
MOCK_MATERIALS_API=false

# 调试设置
ENABLE_DEBUG_TOOLBAR=false
PROFILE_REQUESTS=false
SAVE_DEBUG_INFO=false

# 测试设置
TEST_DATABASE_URL=sqlite:///./test_aura_render.db
TEST_REDIS_URL=redis://localhost:6379/1